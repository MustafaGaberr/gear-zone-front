<!-- Profile Picture Section -->
<div class="card border-0 shadow-sm rounded-5 mb-4">
  <div class="card-body p-4">
    <h5 class="fw-bold mb-4">Profile Picture</h5>
    <div class="d-flex align-items-center gap-4">
      <div class="avatar-wrapper position-relative">
        <div class="avatar-circle d-flex align-items-center justify-content-center text-white">
          <span class="fs-2">{{ user().firstName[0] }}{{ user().lastName[0] }}</span>
        </div>
        <button class="btn btn-primary btn-sm rounded-circle avatar-edit-btn position-absolute">
          <i class="bi bi-camera"></i>
        </button>
      </div>
      <div>
        <h6 class="fw-semibold mb-1">Update Profile Picture</h6>
        <small class="text-muted">JPG, PNG or GIF. Max size of 2MB</small>
      </div>
    </div>
  </div>
</div>

<!-- Personal Information Section -->
<div class="card border-0 shadow-sm rounded-5 mb-4">
  <div class="card-body p-4">
    <h5 class="fw-bold mb-4">Personal Information</h5>
    <form [formGroup]="updatform" (ngSubmit)="savePersonalInfo()">
      <div class="row g-3">
        <div class="col-md-6">
          <label class="form-label text-muted small">First Name</label>
          <input
            type="text"
            class="form-control rounded-4"
            formControlName="firstName"
            name="firstName"
          >
        </div>
        <div class="col-md-6">
          <label class="form-label text-muted small">Last Name</label>
          <input
            type="text"
            class="form-control rounded-4"
            formControlName="lastName"
            name="lastName"
          >
        </div>
        <div class="col-12">
          <label class="form-label text-muted small">Email Address</label>
          <input
            type="email"
            class="form-control rounded-4"
            formControlName="email"
            name="email"
          >
        </div>
      </div>
      <button type="submit" class="btn btn-primary rounded-pill px-4 mt-4">
        <i class="bi bi-save me-2"></i> Save Changes
      </button>
    </form>
  </div>
</div>

<!-- Change Password Section -->
<div class="card border-0 shadow-sm rounded-5 mb-4">
  <div class="card-body p-4">
    <h5 class="fw-bold mb-4">Change Password</h5>
    <form [formGroup]="changPassword" (ngSubmit)="updatePassword()">
      <div class="row g-3">
        <div class="col-12">
          <label class="form-label text-muted small">Current Password</label>
          <input
            type="password"
            class="form-control rounded-4"
            formControlName="currentPassword"
            name="currentPassword"
             [type]="showPassword ? 'text' : 'password'"
          >
          <button type="button" class="eye-btn" (click)="togglePasswordVisibility()">
              <mat-icon class="eye-icon">{{ showPassword ? 'visibility' : 'visibility_off'}}</mat-icon>
          </button>
        </div>
        <div class="col-12">
          <label class="form-label text-muted small">New Password</label>
          <input
            type="password"
            class="form-control rounded-4"
            formControlName="newPassword"
            name="newPassword"
          >
        </div>
        <div class="col-12">
          <label class="form-label text-muted small">Confirm New Password</label>
          <input
            type="password"
            class="form-control rounded-4"
            formControlName="confirmPassword"
            name="confirmPassword"
          >
        </div>
      </div>
      <button type="submit" class="btn btn-success rounded-pill px-4 mt-4">
        Update Password
      </button>
    </form>
  </div>
</div>

<!-- Notifications Preferences Section -->
<div class="card border-0 shadow-sm rounded-5">
  <div class="card-body p-4">
    <h5 class="fw-bold mb-4">Notifications Preferences</h5>
    <div class="d-flex flex-column gap-4">
      <div class="d-flex justify-content-between align-items-center">
        <div>
          <h6 class="fw-semibold mb-1">Order Updates</h6>
          <small class="text-muted">Get notified about order status changes</small>
        </div>
        <div class="form-check form-switch">
          <input
            class="form-check-input"
            type="checkbox"
            [(ngModel)]="notifications.orderUpdates"
            name="orderUpdates"
          >
        </div>
      </div>
      <div class="d-flex justify-content-between align-items-center">
        <div>
          <h6 class="fw-semibold mb-1">Promotional Emails</h6>
          <small class="text-muted">Receive offers and promotions</small>
        </div>
        <div class="form-check form-switch">
          <input
            class="form-check-input"
            type="checkbox"
            [(ngModel)]="notifications.promotionalEmails"
            name="promotionalEmails"
          >
        </div>
      </div>
      <div class="d-flex justify-content-between align-items-center">
        <div>
          <h6 class="fw-semibold mb-1">Newsletter</h6>
          <small class="text-muted">Get weekly updates and tips</small>
        </div>
        <div class="form-check form-switch">
          <input
            class="form-check-input"
            type="checkbox"
            [(ngModel)]="notifications.newsletter"
            name="newsletter"
          >
        </div>
      </div>
    </div>
  </div>
</div>

