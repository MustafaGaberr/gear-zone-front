<div class="card border-0 shadow-sm rounded-5">
  <div class="card-header bg-white border-0 pt-4 px-4 d-flex justify-content-between align-items-center">
    <div>
      <h4 class="fw-bold mb-0">Notifications</h4>
      @if (unreadCount > 0) {
        <small class="text-muted">{{ unreadCount }} unread notifications</small>
      }
    </div>
    @if (unreadCount > 0) {
      <button class="btn btn-outline-primary btn-sm rounded-pill" (click)="markAllAsRead()">
        Mark all as read
      </button>
    }
  </div>
  <div class="card-body p-4">
    @if (notifications.length === 0) {
      <div class="text-center py-5">
        <i class="bi bi-bell-slash fs-1 text-muted"></i>
        <p class="text-muted mt-3">No notifications yet</p>
      </div>
    } @else {
      <div class="list-group list-group-flush">
        @for (notification of notifications; track notification.id) {
          <div
            class="list-group-item notification-item px-3 py-3 rounded-4 mb-2"
            [class.unread]="!notification.read"
            (click)="markAsRead(notification)"
          >
            <div class="d-flex gap-3">
              <div class="notification-icon rounded-circle p-2" [ngClass]="notification.iconClass">
                <i class="bi {{ notification.icon }} fs-5"></i>
              </div>
              <div class="flex-grow-1">
                <div class="d-flex justify-content-between align-items-start">
                  <h6 class="fw-semibold mb-1">{{ notification.title }}</h6>
                  <small class="text-muted">{{ notification.time }}</small>
                </div>
                <p class="text-muted mb-0 small">{{ notification.message }}</p>
              </div>
              @if (!notification.read) {
                <div class="unread-dot"></div>
              }
            </div>
          </div>
        }
      </div>
    }
  </div>
</div>

