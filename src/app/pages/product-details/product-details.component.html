<div class="container my-4">
  <div class="back-to-products mb-4">
    <a routerLink="/products" class="text-decoration-none text-secondary"><img src="assets/images/Vector.svg" class="m-3" />Back to Products</a>
  </div>

  <!-- Main Product Card (Contains Everything) -->
  <div class="card-body p-lg-5">
    <!-- Product Info Row -->
    <div class="row">
      <!-- Product Images Column -->
     <div class="col-lg-6 mb-4">
  
  <img 
    [src]="currentMainImage" 
    alt="Main Product Image" 
    class="main-image img-fluid rounded-3 shadow-sm"
    style="width: 100%; height: 400px; object-fit: cover;"
  >

  <div class="thumbnail-images mt-3 d-flex gap-2">
    
    @for (img of productImages; track img) {
      <img 
        [src]="img" 
        (click)="changeImage(img)" 
        [class.active-thumb]="currentMainImage === img"
        class="img-thumbnail cursor-pointer"
        alt="Thumbnail"
        style="width: 100%; height: 80px; object-fit: cover; cursor: pointer;"
      >
    }

  </div>
</div>

      <!-- Product Info Column -->
      <div class="col-lg-6 ps-lg-5">
        <h1 class="fw-bold display-5">Premium Brake Disc Set</h1>
        <div class="d-flex align-items-center mb-3 text-secondary">
          <span><i class="bi bi-star-fill text-warning me-1"></i> 4.8 (124 reviews)</span>
          <span class="mx-2">|</span>
          <span class="text-success fw-bold"><i class="bi bi-check-circle-fill me-1"></i>25 in stock</span>
        </div>
        <div class="product-price mb-3">
          <span class="current-price">$149.99</span>
          <span class="original-price text-muted">$199.99</span>
          <span class="save-percent">Save 25%</span>
        </div>
        <p class="text-secondary mb-4">High-quality premium brake disc set designed for optimal performance and durability. Manufactured with advanced materials to ensure superior braking power and longevity. Perfect for both daily driving and performance applications.</p>
        
        <div class="d-flex align-items-center mb-4">
          <strong class="me-3">Quantity</strong>
          <div class="quantity-buttons btn-group" role="group">
            <button type="button" class="btn btn-outline-secondary rounded-pill-start" (click)="decrement()">-</button>
            <span class="btn btn-outline-secondary disabled">{{ count() }}</span>
            <button type="button" class="btn btn-outline-secondary rounded-pill-end" (click)="increment()">+</button>
          </div>
        </div>

        <div class="d-flex gap-2 mb-4">
          <button class="btn btn-primary btn-lg flex-grow-1"><i class="bi bi-cart-plus me-2"></i>Add to Cart</button>
          <button class="btn btn-outline-secondary rounded-3"><i class="bi bi-heart"></i></button>
          <button class="btn btn-outline-secondary rounded-3"><i class="bi bi-share"></i></button>
        </div>

        <div class="key-features mt-4 p-4 rounded-3">
          <h4 class="fw-semibold mb-3">Key Features</h4>
          <ul class="list-unstyled">
            <li class="mb-2">Premium cast iron construction</li>
            <li class="mb-2">Precision balanced for smooth operation</li>
            <li class="mb-2">Heat-resistant coating</li>
            <li class="mb-2">Easy installation</li>
            <li>2-year warranty included</li>
          </ul>
        </div>

        <!-- Services Row (Modified for aspect ratio) -->
        <div class="row text-center mt-4">
          <div class="col-md-4 mb-3">
            <div class="service-card p-3 rounded-4">
              <img src="assets/images/Icon.svg" alt="Warranty Icon" class="service-icon mb-2">
              <p class="text-secondary mb-0 mt-2">2 Year Warranty</p>
            </div>
          </div>
          <div class="col-md-4 mb-3">
            <div class="service-card p-3 rounded-4">
              <img src="assets/images/Icon2.svg" alt="Warranty Icon" class="service-icon mb-2">
              <p class="text-secondary mb-0 mt-2">Free Shipping</p>
            </div>
          </div>
          <div class="col-md-4 mb-3">
            <div class="service-card p-3 rounded-4">
              <img src="assets/images/Icon3.svg" alt="Warranty Icon" class="service-icon mb-2">
              <p class="text-secondary mb-0 mt-2">Easy Returns</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Specifications and Seller Row -->
    <div class="row p-4 mt-5 border border-2 rounded-4">
        <div class="col-md-6 mb-4">
            <h2 class="fw-bold mb-3">Specifications</h2>
            <table class="table lh-lg">
                <tbody>
                <tr>
                    <td class="text-secondary">Material</td>
                    <td class="text-end">Cast Iron</td>
                </tr>
                <tr>
                    <td class="text-secondary">Diameter</td>
                    <td class="text-end">320mm</td>
                </tr>
                <tr>
                    <td class="text-secondary">Thickness</td>
                    <td class="text-end">30mm</td>
                </tr>
                <tr>
                    <td class="text-secondary">Weight</td>
                    <td class="text-end">8.5 kg</td>
                </tr>
                <tr>
                    <td class="text-secondary">Compatibility</td>
                    <td class="text-end">Universal Fit</td>
                </tr>
                </tbody>
            </table>
        </div>
      <div class="col-md-6">
        <h2 class="fw-bold mb-3">Seller Information</h2>
        <div class="seller-card p-4 bg-#F9FAFB rounded-4">
          <h5 class="fw-bold">AutoParts Pro</h5>
          <p class="mb-1"><i class="bi bi-star-fill text-warning me-1"></i> 4.9 seller rating</p>
          <p class="mb-1"><i class="bi bi-box-seam me-1"></i> 1520 products sold</p>
          <p class="text-secondary"><i class="bi bi-geo-alt-fill me-1"></i> New York, NY</p>
         <button class="btn btn-outline-primary w-100 mt-2 bg-white py-2 rounded-4 btn-contact">
  <i class="bi bi-chat-left mx-2"></i>Contact Seller
</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Related Products Row -->
  <div class="related-products  my-4">
    <h2 class="fw-bold mb-4">Related Products</h2>
   <div class="row g-4">
  @for (product of products; track product.id) {
    <div class="col-12 col-sm-6 col-lg-4">
      <a
        [routerLink]="['/products', product.id]"
        class="product-card card h-100 border rounded-4 overflow-hidden text-decoration-none"
      >
        <div class="product-image position-relative">
          <img
            [src]="product.image"
            [alt]="product.name"
            class="card-img-top"
          />
          
          @if (product.badge) {
            <span class="badge bg-orange position-absolute top-0 start-0 m-3 rounded-3">
              {{ product.badge }}
            </span>
          }
        </div>

        <div class="card-body p-4">
          <h3 class="fs-6 fw-semibold text-dark mb-2 product-title">
            {{ product.name }}
          </h3>

          <div class="d-flex align-items-center gap-1 mb-3">
            <i class="bi bi-star-fill text-warning small"></i>
            <span class="text-dark small fw-medium">{{ product.rating }}</span>
            <span class="text-secondary small">({{ product.reviewCount }})</span>
          </div>

          <div class="d-flex align-items-center gap-2">
            <span class="fs-5 fw-semibold text-primary">
              ${{ product.price }}
            </span>
            
            @if (product.originalPrice) {
              <span class="text-secondary small text-decoration-line-through">
                ${{ product.originalPrice }}
              </span>
            }
          </div>
        </div>
      </a>
    </div>
  } @empty {
    <div class="col-12 text-center">
      <p>No products found.</p>
    </div>
  }
</div>
  </div>
</div>
