<div class="auth-background">
    <div class="login-container">
        <img src="assets/images/logo.png" alt="GearZone Logo">
        <div class="login-form">
            <div class="header">
                <h1>{{ translationService.currentLang() === 'ar' ? 'مرحباً بعودتك' : 'Welcome Back' }}</h1>
                <p>{{ translationService.translate('auth.signIn') }}</p>
            </div>
            <form [formGroup]="loginForm" (ngSubmit)="login()">
                <div>
                    <div class="input-field">
                        @let emailcontrole=loginForm.get('email');
                        <p>{{ translationService.translate('auth.email') }}</p>
                        <div class="input-wrapper">
                            <mat-icon class="input-icon">email</mat-icon>
                            <input
                                [class]="{'border-success':emailcontrole?.valid ,'border-danger':emailcontrole?.invalid && emailcontrole?.touched}"
                                type="email"
                                [placeholder]="translationService.currentLang() === 'ar' ? 'بريدك@الإلكتروني.com' : 'your@email.com'"
                                formControlName="email">
                        </div>
                        @if(emailcontrole?.errors && emailcontrole?.touched){
                        <div class="alert p-1 alert-danger " role="alert">
                            <ul class="m-0 list-unstyled small text-danger">
                                @if(emailcontrole?.getError('required')) {
                                <li>{{ translationService.currentLang() === 'ar' ? 'البريد الإلكتروني مطلوب' : 'Email is
                                    required' }}</li>
                                }
                                @if(emailcontrole?.getError('email')) {
                                <li>{{ translationService.currentLang() === 'ar' ? 'يرجى إدخال بريد إلكتروني صحيح' :
                                    'Please enter a valid email format' }}</li>
                                }

                            </ul>
                        </div>
                        }


                    </div>
                    <div class="input-field">
                        @let passwordcontrole=loginForm.get('password');
                        <p>{{ translationService.translate('auth.password') }}</p>
                        <div class="input-wrapper">
                            <mat-icon class="input-icon">lock</mat-icon>
                            <input [type]="showPassword ? 'text' : 'password'"
                                [placeholder]="translationService.currentLang() === 'ar' ? 'أدخل كلمة المرور' : 'Enter your password'"
                                formControlName="password"
                                [class]="{'border-success':passwordcontrole?.valid ,'border-danger':passwordcontrole?.invalid && passwordcontrole?.touched}">
                            <button type="button" class="eye-btn" (click)="togglePasswordVisibility()">
                                <mat-icon class="eye-icon">{{ showPassword ? 'visibility' : 'visibility_off'
                                    }}</mat-icon>
                            </button>

                        </div>
                        @if (passwordcontrole?.errors && passwordcontrole?.touched) {
                        <div class="alert p-1 alert-danger " role="alert">
                            <ul class="m-0 list-unstyled small text-danger">
                                @if(passwordcontrole?.getError('required')) {
                                <li>{{ translationService.currentLang() === 'ar' ? 'كلمة المرور مطلوبة' : 'Password is
                                    required' }}</li>
                                }
                                @if(passwordcontrole?.getError('pattern')){
                                <li>{{ translationService.currentLang() === 'ar' ? 'يجب أن تحتوي كلمة المرور على 8 أحرف
                                    على الأقل مع حرف كبير وصغير' : 'Password must be at least 8 characters with
                                    uppercase and lowercase' }}</li>
                                }
                            </ul>
                        </div>

                        }
                    </div>
                </div>
                <div class="d-flex flex-column">
                    <a routerLink="/forgot-password" class="forget">{{
                        translationService.translate('auth.forgotPassword') }}</a>
                    <button class="login-btn" type="submit">{{ translationService.translate('auth.login') }}</button>
                </div>

            </form>

            <p class="no-account">{{ translationService.translate('auth.noAccount') }} <span><a
                        routerLink="/register">{{ translationService.translate('auth.signUp') }}</a></span></p>
        </div>
    </div>
</div>